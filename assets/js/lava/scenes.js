// Generated by CoffeeScript 1.3.3

/*
Scene callbacks
*/


(function() {

  (function($, window, document) {
    var methods;
    methods = {};
    methods.init = function(e, lava) {
      return $(lava).each(function() {
        var $scenes;
        $scenes = $(this).find('.lava-scene');
        $scenes.on('load.lava.lavaScene', methods.load);
        return $scenes.on('active.lava.lavaScene', methods.active);
      });
    };
    methods.defaultState = function(e, lava) {
      return $(lava).each(function() {
        var $scenes;
        $scenes = $(this).find('.lava-scene');
        $scenes.trigger('load.lava');
        return $(this).find('.lava-scene.active-descendant').trigger('active.lava');
      });
    };
    methods.load = function() {
      var $actionBlock, sceneId;
      sceneId = $(this).attr('data-scene-id');
      $actionBlock = $(".lava-actionbar-block[data-scene-id='" + sceneId + "']");
      return $(this).data('lava.scene.actionBlock', $actionBlock);
    };
    methods.active = function() {
      var $actionBar, $actionBlock;
      $actionBar = $(".lava-actionbar-cntr");
      $actionBar.find('.lava-actionbar-block').addClass('inactive-descendant').removeClass('active-descendant');
      $actionBlock = $(this).data('lava.scene.actionBlock');
      return $actionBlock.addClass('active-descendant').removeClass('inactive-descendant');
    };
    return lavaBindMethods(methods, 'lavaScene');
  })(jQuery, window, document);

}).call(this);
